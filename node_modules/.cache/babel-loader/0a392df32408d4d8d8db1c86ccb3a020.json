{"ast":null,"code":"var _jsxFileName = \"E:\\\\Tools\\\\download git\\\\New folder\\\\wedding-invitation\\\\src\\\\components\\\\Form.js\";\nimport React, { useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport axios from 'axios';\nimport { addGA } from '../utils/helper';\nimport { data } from '../data';\n\nconst Form = ({\n  fetchMessages\n}) => {\n  const [loader, setLoader] = useState(false);\n\n  const onSubmit = async e => {\n    setLoader(true);\n    addGA('post-message', 'click');\n    const payload = {\n      data: {\n        event: data['en'].config.name,\n        name: e.name,\n        message: e.message // attend: e.attend,\n\n      }\n    };\n    const resp = await axios.post(process.env.REACT_APP_API_ENDPOINT + '/api/wedding-messages', payload);\n\n    if (resp.status === 200) {\n      fetchMessages();\n      addGA('post-message-success', 'show');\n      reset();\n    } else {\n      addGA('post-message-failed', 'show');\n      console.log(resp);\n    }\n\n    setLoader(false);\n  };\n\n  const {\n    register,\n    handleSubmit,\n    reset\n  } = useForm();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form row d-flex justify-content-center align-items-center px-3 mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-8 d-flex flex-column justify-content-center align-items-center mb-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"w-100 d-flex flex-column\",\n    onSubmit: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"input\", Object.assign({\n    className: \"form-control\"\n  }, register('name', {\n    required: true,\n    maxLength: 100\n  }), {\n    placeholder: \"Type your name here\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }, \"Message\"), /*#__PURE__*/React.createElement(\"textarea\", Object.assign({\n    className: \"form-control\"\n  }, register('message', {\n    required: true,\n    maxLength: 500\n  }), {\n    placeholder: \"Type your message here\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"w-100 btn btn-secondary  align-self-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, loader ? 'Loading...' : 'Send Messages'))));\n};\n\nexport default Form;","map":{"version":3,"sources":["E:/Tools/download git/New folder/wedding-invitation/src/components/Form.js"],"names":["React","useState","useForm","axios","addGA","data","Form","fetchMessages","loader","setLoader","onSubmit","e","payload","event","config","name","message","resp","post","process","env","REACT_APP_API_ENDPOINT","status","reset","console","log","register","handleSubmit","required","maxLength"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport axios from 'axios';\r\nimport { addGA } from '../utils/helper';\r\nimport { data } from '../data';\r\n\r\nconst Form = ({ fetchMessages }) => {\r\n  const [loader, setLoader] = useState(false);\r\n\r\n  const onSubmit = async (e) => {\r\n    setLoader(true);\r\n    addGA('post-message', 'click');\r\n\r\n    const payload = {\r\n      data: {\r\n        event: data['en'].config.name,\r\n        name: e.name,\r\n        message: e.message,\r\n        // attend: e.attend,\r\n      },\r\n    };\r\n\r\n    const resp = await axios.post(process.env.REACT_APP_API_ENDPOINT + '/api/wedding-messages', payload);\r\n\r\n    if (resp.status === 200) {\r\n      fetchMessages();\r\n      addGA('post-message-success', 'show');\r\n      reset();\r\n    } else {\r\n      addGA('post-message-failed', 'show');\r\n      console.log(resp);\r\n    }\r\n\r\n    setLoader(false);\r\n  };\r\n\r\n  const { register, handleSubmit, reset } = useForm();\r\n\r\n  return (\r\n    <div className=\"form row d-flex justify-content-center align-items-center px-3 mt-3\">\r\n      <div className=\"col-md-8 d-flex flex-column justify-content-center align-items-center mb-5\">\r\n        <form className=\"w-100 d-flex flex-column\" onSubmit={handleSubmit(onSubmit)}>\r\n          <div className=\"form-group mb-3\">\r\n            <label>Name</label>\r\n            <input className=\"form-control\" {...register('name', { required: true, maxLength: 100 })} placeholder=\"Type your name here\" />\r\n          </div>\r\n          <div className=\"form-group mb-3\">\r\n            <label>Message</label>\r\n            <textarea className=\"form-control\" {...register('message', { required: true, maxLength: 500 })} placeholder=\"Type your message here\" />\r\n          </div>\r\n          {/* <label>Kehadiran</label>\r\n          <div className=\"form-group\">\r\n            <div className=\"form-check form-check-inline\">\r\n              <input {...register('attend', { required: true })} type=\"radio\" value={true} />\r\n              <label className=\"form-check-label\">Ya</label>\r\n            </div>\r\n            <div className=\"form-check form-check-inline\">\r\n              <input {...register('attend', { required: true })} type=\"radio\" value={false} />\r\n              <label className=\"form-check-label\">Tidak</label>\r\n            </div>\r\n          </div> */}\r\n          <button type=\"submit\" className=\"w-100 btn btn-secondary  align-self-end\">\r\n            {loader ? 'Loading...' : 'Send Messages'}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n"]},"metadata":{},"sourceType":"module"}